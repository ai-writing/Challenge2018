webpackJsonp([1],{ixQA:function(t,e){},j7e0:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s("7+uW"),i=s("yPE/"),n=s.n(i),o=s("G0J2"),a=s.n(o);r.default.use(a.a);var l=n.a.import("parchment"),c=new l.Attributor.Class("box","line",{scope:l.Scope.INLINE,whitelist:["error","suggest"]}),u=new l.Attributor.Attribute("id","id",{scope:l.Scope.INLINE});n.a.register(c),n.a.register({"attributors/attribute/id":u},!0),n.a.register({"formats/id":u},!0);var m={data:function(){return{paperOn:!1,showESpelling:!0,showEGrammar:!0,showESemantic:!0,showSSpelling:!0,showSGrammar:!0,showSSemantic:!0,showSStructure:!0,paperTitle:"",paperBody:"",errorSpelling:"",errorGrammar:"",errorSemantic:"",suggestSpelling:"",suggestGrammar:"",suggestSemantic:"",suggestStructure:"",sumNum:"",judgeAdd:"",errorSpellingArr:[],errorGrammarArr:[],errorSemanticArr:[],suggestSpellingArr:[],suggestGrammarArr:[],suggestSemanticArr:[],judgeFlag:0,suggestStructureArr:[],titleContent:"",bodyContent:"",bodyContentArray:[],spanArray:[],spanString:"",htmlContent:"",activeNames:[],titleEditorOption:{theme:"bubble",placeholder:"PASTE TITLE",modules:{}},bodyEditorOption:{theme:"bubble",placeholder:"PASTE PAPER",modules:{}}}},mounted:function(){this.changeHtml()},methods:{getEventTrigger:function(t){var e=event.target.id;this.openBoard(e)},openBoard:function(t){this.activeNames=[parseInt(t)]},handleChange:function(t){},changeMS:function(){document.getElementById("mistakes-spelling").style.backgroundColor="#eaeaea";var t=document.getElementById("mistakes-spelling-circle");t&&(t.style.backgroundColor="#ef4632",t.style.cursor="pointer");var e=document.getElementById("mistakes-spelling-num");e&&(e.style.color="white")},returnMS:function(){document.getElementById("mistakes-spelling").style.backgroundColor="white";var t=document.getElementById("mistakes-spelling-circle");t&&(t.style.backgroundColor="#ededed");var e=document.getElementById("mistakes-spelling-num");e&&(e.style.color="#898989")},changeMG:function(){document.getElementById("mistakes-grammar").style.backgroundColor="#eaeaea";var t=document.getElementById("mistakes-grammar-circle");t&&(t.style.backgroundColor="#ef4632",t.style.cursor="pointer");var e=document.getElementById("mistakes-grammar-num");e&&(e.style.color="white")},returnMG:function(){document.getElementById("mistakes-grammar").style.backgroundColor="white";var t=document.getElementById("mistakes-grammar-circle");t&&(t.style.backgroundColor="#ededed");var e=document.getElementById("mistakes-grammar-num");e&&(e.style.color="#898989")},changeML:function(){document.getElementById("mistakes-lexeme").style.backgroundColor="#eaeaea";var t=document.getElementById("mistakes-lexeme-circle");t&&(t.style.backgroundColor="#ef4632",t.style.cursor="pointer");var e=document.getElementById("mistakes-lexeme-num");e&&(e.style.color="white")},returnML:function(){document.getElementById("mistakes-lexeme").style.backgroundColor="white";var t=document.getElementById("mistakes-lexeme-circle");t&&(t.style.backgroundColor="#ededed");var e=document.getElementById("mistakes-lexeme-num");e&&(e.style.color="#898989")},changeSSP:function(){var t;document.getElementById("suggestions-spelling").style.backgroundColor="#eaeaea",(t=document.getElementById("suggestion-spelling-circle"))&&(t.style.backgroundColor="#ef4632",t.style.cursor="pointer"),(t=document.getElementById("suggestion-spelling-num"))&&(t.style.color="white")},returnSSP:function(){var t;document.getElementById("suggestions-spelling").style.backgroundColor="white",(t=document.getElementById("suggestion-spelling-circle"))&&(t.style.backgroundColor="#ededed"),(t=document.getElementById("suggestion-spelling-num"))&&(t.style.color="#898989")},changeSG:function(){document.getElementById("suggestions-grammar").style.backgroundColor="#eaeaea";var t=document.getElementById("suggestion-grammar-circle");t&&(t.style.backgroundColor="#ef4632",t.style.cursor="pointer");var e=document.getElementById("suggestion-grammar-num");e&&(e.style.color="white")},returnSG:function(){document.getElementById("suggestions-grammar").style.backgroundColor="white";var t=document.getElementById("suggestion-grammar-circle");t&&(t.style.backgroundColor="#ededed");var e=document.getElementById("suggestion-grammar-num");e&&(e.style.color="#898989")},changeSL:function(){document.getElementById("suggestions-lexeme").style.backgroundColor="#eaeaea";var t=document.getElementById("suggestion-lexeme-circle");t&&(t.style.backgroundColor="#ef4632",t.style.cursor="pointer");var e=document.getElementById("suggestion-lexeme-num");e&&(e.style.color="white")},returnSL:function(){document.getElementById("suggestions-lexeme").style.backgroundColor="white";var t=document.getElementById("suggestion-lexeme-circle");t&&(t.style.backgroundColor="#ededed");var e=document.getElementById("suggestion-lexeme-num");e&&(e.style.color="#898989")},changeSS:function(){document.getElementById("suggestions-structure").style.backgroundColor="#eaeaea";var t=document.getElementById("suggestion-structure-circle");t&&(t.style.backgroundColor="#ef4632",t.style.cursor="pointer");var e=document.getElementById("suggestion-structure-num");e&&(e.style.color="white")},returnSS:function(){document.getElementById("suggestions-structure").style.backgroundColor="white";var t=document.getElementById("suggestion-structure-circle");t&&(t.style.backgroundColor="#ededed");var e=document.getElementById("suggestion-structure-num");e&&(e.style.color="#898989")},onEditorFocus:function(){var t=this;0==this.judgeFlag&&this.$alert("暂时不能输入空格和回车","不好意思～",{confirmButtonText:"确定",callback:function(e){t.$message({type:"info",message:"谢谢您的理解！"})}}),this.judgeFlag=1},changeHtml:function(){var t=this;setInterval(function(){if(t.editor.container.firstChild.innerText.trim()!=t.htmlContent.trim()&&""!=t.editor.container.firstChild.innerText.trim()){var e=t.editor.container.firstChild.innerText;t.$http.post("/api/num",{paperBody:t.editor.getText()}).then(function(s){if(s.body.success){var r=function(t,e,s){return t.substring(0,e)+s+t.substring(e,t.length)},i=t.editor.getText();t.paperOn=!0,t.errorSpelling=s.body.count.errorSpelling,t.errorGrammar=s.body.count.errorGrammar,t.errorSemantic=s.body.count.errorSemantic,t.suggestSpelling=s.body.count.suggestSpelling,t.suggestGrammar=s.body.count.suggestGrammar,t.suggestSemantic=s.body.count.suggestSemantic,t.suggestStructure=s.body.count.suggestStructure,t.sumNum=s.body.count.sumNum,t.errorSpellingArr=s.body.spelling.err,t.errorGrammarArr=s.body.grammar.err,t.errorSemanticArr=s.body.semantic.err,t.suggestSpellingArr=s.body.spelling.sug,t.suggestGrammarArr=s.body.grammar.sug,t.suggestSemanticArr=s.body.semantic.sug,t.suggestStructureArr=s.body.structure.sug;var n=[];[t.errorSpellingArr,t.errorGrammarArr,t.errorSemanticArr,t.suggestSpellingArr,t.suggestGrammarArr,t.suggestSemanticArr,t.suggestStructureArr].forEach(function(t){t.forEach(function(t){if(t.end)for(var e=0;e<t.end.length;e++)n.push({start:t.start[e],end:t.end[e],type:t.type,id:t.id})})}),n.sort(function(t,e){return t.end<e.end}),n.forEach(function(t){if(1==t.type){if(t.end>i.length)return;i=r(i,t.end,"</span>"),i=r(i,t.start,'<span class="line-error" id="'+t.id+'" >')}else{if(t.end>i.length)return;i=r(i,t.end,"</span>"),i=r(i,t.start,'<span class="line-suggest" id="'+t.id+'" >')}}),t.cursorIndex=t.editor.getSelection().index,t.editor.deleteText(0,t.editor.getLength()+1),t.editor.clipboard.dangerouslyPasteHTML(0,i),t.editor.setSelection(t.cursorIndex,0),t.htmlContent=e}})}},3e3)},toShowAll:function(){this.showESpelling=!0,this.showEGrammar=!0,this.showESemantic=!0,this.showSSpelling=!0,this.showSGrammar=!0,this.showSSemantic=!0,this.showSStructure=!0},toShowMistake:function(){this.showESpelling=!0,this.showEGrammar=!0,this.showESemantic=!0,this.showSSpelling=!1,this.showSGrammar=!1,this.showSSemantic=!1,this.showSStructure=!1},toShowSuggestion:function(){this.showESpelling=!1,this.showEGrammar=!1,this.showESemantic=!1,this.showSSpelling=!0,this.showSGrammar=!0,this.showSSemantic=!0,this.showSStructure=!0},toShowESpelling:function(){this.showESpelling=!0,this.showEGrammar=!1,this.showESemantic=!1,this.showSSpelling=!1,this.showSGrammar=!1,this.showSSemantic=!1,this.showSStructure=!1},toShowEGrammar:function(){this.showESpelling=!1,this.showEGrammar=!0,this.showESemantic=!1,this.showSSpelling=!1,this.showSGrammar=!1,this.showSSemantic=!1,this.showSStructure=!1},toShowESemantic:function(){this.showESpelling=!1,this.showEGrammar=!1,this.showESemantic=!0,this.showSSpelling=!1,this.showSGrammar=!1,this.showSSemantic=!1,this.showSStructure=!1},toShowSSpelling:function(){this.showESpelling=!1,this.showEGrammar=!1,this.showESemantic=!1,this.showSSpelling=!0,this.showSGrammar=!1,this.showSSemantic=!1,this.showSStructure=!1},toShowSGrammar:function(){this.showESpelling=!1,this.showEGrammar=!1,this.showESemantic=!1,this.showSSpelling=!1,this.showSGrammar=!0,this.showSSemantic=!1,this.showSStructure=!1},toShowSSemantic:function(){this.showESpelling=!1,this.showEGrammar=!1,this.showESemantic=!1,this.showSSpelling=!1,this.showSGrammar=!1,this.showSSemantic=!0,this.showSStructure=!1},toShowSStructure:function(){this.showESpelling=!1,this.showEGrammar=!1,this.showESemantic=!1,this.showSSpelling=!1,this.showSGrammar=!1,this.showSSemantic=!1,this.showSStructure=!0}},created:function(){},computed:{editor:function(){return console.log(this.$refs.accordion),this.$refs.myTextEditor.quill}}},g={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"base"},[s("div",{staticClass:"topper"}),t._v(" "),s("div",{staticClass:"left"},[s("div",{staticClass:"reload"},[s("img",{staticClass:"reload-img",attrs:{src:"/static/img/reload.png",onclick:"reloadPaper()"}}),t._v(" "),s("span",{staticClass:"reload-num"},[t._v(t._s(t.sumNum))])]),t._v(" "),s("div",{staticClass:"clear-float"}),t._v(" "),s("div",{staticClass:"show-all",on:{click:function(e){t.toShowAll()}}},[s("div",{staticClass:"show-all-circle"}),t._v(" "),s("span",{staticClass:"show-all-title"},[t._v("显示全部")])]),t._v(" "),s("div",{staticClass:"clear-float"}),t._v(" "),s("div",{staticClass:"mistakes"},[s("div",{staticClass:"mistakes-all"},[s("div",{staticClass:"mistakes-circle"}),t._v(" "),s("span",{staticClass:"mistakes-title",on:{click:function(e){t.toShowMistake()}}},[t._v("错误")])]),t._v(" "),s("ul",{staticClass:"mistakes-list"},[s("li",{attrs:{id:"mistakes-spelling"},on:{mouseover:function(e){t.changeMS()},mouseout:function(e){t.returnMS()},click:function(e){t.toShowESpelling()}}},[s("span",{staticClass:"list-title"},[t._v("拼写")]),t._v(" "),t.paperOn?s("div",{attrs:{id:"mistakes-spelling-circle"}},[s("span",{attrs:{id:"mistakes-spelling-num"}},[t._v(t._s(t.errorSpelling))])]):t._e(),t._v(" "),s("div",{staticClass:"clear-float"})]),t._v(" "),s("li",{attrs:{id:"mistakes-grammar"},on:{mouseover:function(e){t.changeMG()},mouseout:function(e){t.returnMG()},click:function(e){t.toShowEGrammar()}}},[s("span",{staticClass:"list-title"},[t._v("语法")]),t._v(" "),t.paperOn?s("div",{attrs:{id:"mistakes-grammar-circle"}},[s("span",{attrs:{id:"mistakes-grammar-num"}},[t._v(t._s(t.errorGrammar))])]):t._e(),t._v(" "),s("div",{staticClass:"clear-float"})]),t._v(" "),s("li",{attrs:{id:"mistakes-lexeme"},on:{mouseover:function(e){t.changeML()},mouseout:function(e){t.returnML()},click:function(e){t.toShowESemantic()}}},[s("span",{staticClass:"list-title"},[t._v("语义")]),t._v(" "),t.paperOn?s("div",{attrs:{id:"mistakes-lexeme-circle"}},[s("span",{attrs:{id:"mistakes-lexeme-num"}},[t._v(t._s(t.errorSemantic))])]):t._e(),t._v(" "),s("div",{staticClass:"clear-float"})])])]),t._v(" "),s("div",{staticClass:"clear-float"}),t._v(" "),s("div",{staticClass:"suggestions"},[s("div",{staticClass:"suggestions-all"},[s("div",{staticClass:"suggestions-circle"}),t._v(" "),s("span",{staticClass:"suggestions-title",on:{click:function(e){t.toShowSuggestion()}}},[t._v("建议")])]),t._v(" "),s("ul",{staticClass:"suggestions-list"},[s("li",{attrs:{id:"suggestions-spelling"},on:{mouseover:function(e){t.changeSSP()},mouseout:function(e){t.returnSSP()},click:function(e){t.toShowSSpelling()}}},[s("span",{staticClass:"list-title"},[t._v("拼写")]),t._v(" "),t.paperOn?s("div",{attrs:{id:"suggestion-spelling-circle"}},[s("span",{attrs:{id:"suggestion-spelling-num"}},[t._v(t._s(t.suggestSpelling))])]):t._e(),t._v(" "),s("div",{staticClass:"clear-float"})]),t._v(" "),s("li",{attrs:{id:"suggestions-grammar"},on:{mouseover:function(e){t.changeSG()},mouseout:function(e){t.returnSG()},click:function(e){t.toShowSGrammar()}}},[s("span",{staticClass:"list-title"},[t._v("语法")]),t._v(" "),t.paperOn?s("div",{attrs:{id:"suggestion-grammar-circle"}},[s("span",{attrs:{id:"suggestion-grammar-num"}},[t._v(t._s(t.suggestGrammar))])]):t._e(),t._v(" "),s("div",{staticClass:"clear-float"})]),t._v(" "),s("li",{attrs:{id:"suggestions-lexeme"},on:{mouseover:function(e){t.changeSL()},mouseout:function(e){t.returnSL()},click:function(e){t.toShowSSemantic()}}},[s("span",{staticClass:"list-title"},[t._v("语义")]),t._v(" "),t.paperOn?s("div",{attrs:{id:"suggestion-lexeme-circle"}},[s("span",{attrs:{id:"suggestion-lexeme-num"}},[t._v(t._s(t.suggestSemantic))])]):t._e(),t._v(" "),s("div",{staticClass:"clear-float"})]),t._v(" "),s("li",{attrs:{id:"suggestions-structure"},on:{mouseover:function(e){t.changeSS()},mouseout:function(e){t.returnSS()},click:function(e){t.toShowSStructure()}}},[s("span",{staticClass:"list-title"},[t._v("句子结构")]),t._v(" "),t.paperOn?s("div",{attrs:{id:"suggestion-structure-circle"}},[s("span",{attrs:{id:"suggestion-structure-num"}},[t._v(t._s(t.suggestStructure))])]):t._e(),t._v(" "),s("div",{staticClass:"clear-float"})])])]),t._v(" "),s("div",{staticClass:"clear-float"}),t._v(" "),t._m(0)]),t._v(" "),s("div",{staticClass:"splender-left"}),t._v(" "),s("div",{staticClass:"middle"},[s("quill-editor",{ref:"myTextEditor",staticClass:"title-paste",attrs:{content:t.titleContent,options:t.titleEditorOption}}),t._v(" "),s("quill-editor",{ref:"myTextEditor",staticClass:"body-paste",attrs:{id:"body-paste",content:t.bodyContent,options:t.bodyEditorOption},on:{focus:function(e){t.getEventTrigger(e)}}})],1),t._v(" "),s("div",{staticClass:"splender-right"}),t._v(" "),s("div",{staticClass:"right"},[s("el-collapse",{ref:"accordion",on:{change:t.handleChange},model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[t._l(t.errorSpellingArr,function(e,r){return t.showESpelling?s("el-collapse-item",{key:r,attrs:{name:e.id}},[s("template",{slot:"title"},[s("li",{staticClass:"right-spelling"},[t._v(t._s(e.rep))])]),t._v(" "),s("div",{staticClass:"es-second-floor"},[s("span",{domProps:{innerHTML:t._s(e.exp)}})])],2):t._e()}),t._v(" "),t._l(t.errorGrammarArr,function(e,r){return t.showEGrammar?s("el-collapse-item",{key:"A-"+r,attrs:{name:e.id}},[s("template",{slot:"title"},[s("li",{staticClass:"right-grammar"},[t._v(t._s(e.rep))])]),t._v(" "),s("div",{staticClass:"eg-second-floor"},[s("span",{domProps:{innerHTML:t._s(e.exp)}})])],2):t._e()}),t._v(" "),t._l(t.errorSemanticArr,function(e,r){return t.showESemantic?s("el-collapse-item",{key:"B-"+r,attrs:{name:e.id}},[s("template",{slot:"title"},[s("li",{staticClass:"right-semantic"},[t._v(t._s(e.rep))])]),t._v(" "),s("div",{staticClass:"ese-second-floor"},[s("span",{domProps:{innerHTML:t._s(e.exp)}})])],2):t._e()}),t._v(" "),t._l(t.suggestSpellingArr,function(e,r){return t.showSSpelling?s("el-collapse-item",{key:"C-"+r,attrs:{name:e.id}},[s("template",{slot:"title"},[s("li",{staticClass:"suggest-spelling"},[t._v(t._s(e.rep))])]),t._v(" "),s("div",{staticClass:"ese-second-floor"},[s("span",{domProps:{innerHTML:t._s(e.exp)}})])],2):t._e()}),t._v(" "),t._l(t.suggestGrammarArr,function(e,r){return t.showSGrammar?s("el-collapse-item",{key:"D-"+r,attrs:{name:e.id}},[s("template",{slot:"title"},[s("li",{staticClass:"suggest-grammar"},[t._v(t._s(e.rep))])]),t._v(" "),s("div",{staticClass:"ese-second-floor"},[s("span",{domProps:{innerHTML:t._s(e.exp)}})])],2):t._e()}),t._v(" "),t._l(t.suggestSemanticArr,function(e,r){return t.showSSemantic?s("el-collapse-item",{key:"E-"+r,attrs:{name:e.id}},[s("template",{slot:"title"},[s("li",{staticClass:"suggest-semantic"},[t._v(t._s(e.rep))])]),t._v(" "),s("div",{staticClass:"ss-second-floor"},[s("span",{domProps:{innerHTML:t._s(e.exp)}})])],2):t._e()}),t._v(" "),t._l(t.suggestStructureArr,function(e,r){return t.showSStructure?s("el-collapse-item",{key:"F-"+r,attrs:{name:e.id}},[s("template",{slot:"title"},[s("li",{staticClass:"suggest-structure"},[t._v(t._s(e.rep))])]),t._v(" "),s("div",{staticClass:"sst-second-floor"},[s("span",{domProps:{innerHTML:t._s(e.exp)}})])],2):t._e()})],2)],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"advanced-issues"},[e("img",{staticClass:"advanced-issues-img",attrs:{src:"/static/img/more.png"}}),this._v(" "),e("span",{staticClass:"advanced-issues-title"},[this._v("更多修改建议")])])}]};var d=s("VU/8")(m,g,!1,function(t){s("ixQA")},null,null);e.default=d.exports}});
//# sourceMappingURL=1.f45515c9d73ec7b83f0b.js.map