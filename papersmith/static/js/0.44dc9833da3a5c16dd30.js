webpackJsonp([0],{U6Jg:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s("7+uW"),n=s("yPE/"),a=s.n(n),i=s("G0J2"),o=s.n(i);r.default.use(o.a);var l=a.a.import("parchment"),c=new l.Attributor.Class("box","line",{scope:l.Scope.INLINE,whitelist:["error","suggest"]});a.a.register(c);var u={data:function(){return{paperOn:!1,showESpelling:!0,showEGrammar:!0,showESemantic:!0,showSSemantic:!0,showSStructure:!0,paperTitle:"",paperBody:"",errorSpelling:"",errorGrammar:"",errorSemantic:"",suggestSemantic:"",suggestStructure:"",sumNum:"",judgeAdd:"",errorSpellingArr:[],errorSpellingPosL:[],errorSpellingPosR:[],errorSpellingRight:[],errorSpellingExplain:[],errorGrammarArr:[],errorGrammarPosL:[],errorGrammarPosR:[],errorGrammarRight:[],errorGrammarExplain:[],errorSemanticArr:[],errorSemanticPosL:[],errorSemanticPosR:[],errorSemanticRight:[],errorSemanticExplain:[],suggestSemanticArr:[],suggestSemanticPosL:[],suggestSemanticPosR:[],suggestSemanticRight:[],suggestSemanticExplain:[],suggestStructureArr:[],suggestStructurePosL:[],suggestStructurePosR:[],suggestStructureRight:[],suggestStructureExplain:[],titleContent:"",bodyContent:"",bodyContentArray:[],spanArray:[],spanString:"",htmlContent:"",judgeFlag:0,titleEditorOption:{theme:"bubble",placeholder:"PASTE TITLE",modules:{}},bodyEditorOption:{theme:"bubble",placeholder:"PASTE PAPER",modules:{}}}},mounted:function(){},methods:{changeMS:function(){document.getElementById("mistakes-spelling").style.backgroundColor="#eaeaea";var t=document.getElementById("mistakes-spelling-circle");t&&(t.style.backgroundColor="#ef4632");var e=document.getElementById("mistakes-spelling-num");e&&(e.style.color="white")},returnMS:function(){document.getElementById("mistakes-spelling").style.backgroundColor="white";var t=document.getElementById("mistakes-spelling-circle");t&&(t.style.backgroundColor="#ededed");var e=document.getElementById("mistakes-spelling-num");e&&(e.style.color="#898989")},changeMG:function(){document.getElementById("mistakes-grammar").style.backgroundColor="#eaeaea";var t=document.getElementById("mistakes-grammar-circle");t&&(t.style.backgroundColor="#ef4632");var e=document.getElementById("mistakes-grammar-num");e&&(e.style.color="white")},returnMG:function(){document.getElementById("mistakes-grammar").style.backgroundColor="white";var t=document.getElementById("mistakes-grammar-circle");t&&(t.style.backgroundColor="#ededed");var e=document.getElementById("mistakes-grammar-num");e&&(e.style.color="#898989")},changeML:function(){document.getElementById("mistakes-lexeme").style.backgroundColor="#eaeaea";var t=document.getElementById("mistakes-lexeme-circle");t&&(t.style.backgroundColor="#ef4632");var e=document.getElementById("mistakes-lexeme-num");e&&(e.style.color="white")},returnML:function(){document.getElementById("mistakes-lexeme").style.backgroundColor="white";var t=document.getElementById("mistakes-lexeme-circle");t&&(t.style.backgroundColor="#ededed");var e=document.getElementById("mistakes-lexeme-num");e&&(e.style.color="#898989")},changeSL:function(){document.getElementById("suggestions-lexeme").style.backgroundColor="#eaeaea";var t=document.getElementById("suggestions-lexeme-circle");t&&(t.style.backgroundColor="#ef4632");var e=document.getElementById("suggestions-lexeme-num");e&&(e.style.color="white")},returnSL:function(){document.getElementById("suggestions-lexeme").style.backgroundColor="white";var t=document.getElementById("suggestions-lexeme-circle");t&&(t.style.backgroundColor="#ededed");var e=document.getElementById("suggestions-lexeme-num");e&&(e.style.color="#898989")},changeSS:function(){document.getElementById("suggestions-structure").style.backgroundColor="#eaeaea";var t=document.getElementById("suggestion-structure-circle");t&&(t.style.backgroundColor="#ef4632");var e=document.getElementById("suggestion-structure-num");e&&(e.style.color="white")},returnSS:function(){document.getElementById("suggestions-structure").style.backgroundColor="white";var t=document.getElementById("suggestion-structure-circle");t&&(t.style.backgroundColor="#ededed");var e=document.getElementById("suggestion-structure-num");e&&(e.style.color="#898989")},onBodyEditorChange:function(t){var e=this,s=(t.editor,t.html,t.text);this.$http.post("/api/num",{paperBody:s}).then(function(t){if(t.body.success){if(e.paperOn=!0,e.errorSpelling=t.body.count.errorSpelling,e.errorGrammar=t.body.count.errorGrammar,e.errorSemantic=t.body.count.errorSemantic,e.suggestSemantic=t.body.count.suggestSemantic,e.suggestStructure=t.body.count.suggestStructure,e.sumNum=t.body.count.sumNum,e.errorSpellingArr=t.body.spelling.err,e.errorGrammarArr=t.body.grammar.err,e.errorSemanticArr=t.body.semantic.err,e.suggestSemanticArr=t.body.semantic.sug,e.suggestStructureArr=t.body.structure.sug,e.judgeAdd!=s&&1!=s.length){for(var r=0;r<e.errorSpellingArr.length;r++)for(var n=0;n<e.errorSpellingArr[r].start.length;n++)e.addErrorSpellingTag(e.errorSpellingArr[r].start[n],e.errorSpellingArr[r].end[n],s);for(var a=0;a<e.errorGrammarArr.length;a++)for(var i=0;i<e.errorGrammarArr[a].start.length;i++)e.addErrorGrammarTag(e.errorGrammarArr[a].start[i],e.errorGrammarArr[a].end[i],s);for(var o=0;o<e.errorSemanticArr.length;o++)for(var l=0;l<e.errorSemanticArr[o].start.length;l++)e.addErrorLexemeTag(e.errorSemanticArr[o].start[l],e.errorSemanticArr[o].end[l],s);for(var c=0;c<e.suggestSemanticArr.length;c++)for(var u=0;u<e.suggestSemanticArr[c].start.length;u++)e.addSuggestLexemeTag(e.suggestSemanticArr[c].start[u],e.suggestSemanticArr[c].end[u],s);for(var g=0;g<e.suggestStructureArr.length;g++)for(var m=0;m<e.suggestStructureArr[g].start.length;m++)e.addSuggestStructureTag(e.suggestStructureArr[g].start[m],e.suggestStructureArr[g].end[m],s);e.changeEditor(),e.judgeAdd=s}}else alert(error)})},onEditorFocus:function(){var t=this;0==this.judgeFlag&&this.$alert("这里只能粘贴内容","不好意思～",{confirmButtonText:"确定",callback:function(e){t.$message({type:"info",message:"谢谢您的配合！"})}}),this.judgeFlag=1},toShowAll:function(){this.showESpelling=!0,this.showEGrammar=!0,this.showESemantic=!0,this.showSSemantic=!0,this.showSStructure=!0},toShowMistake:function(){this.showESpelling=!0,this.showEGrammar=!0,this.showESemantic=!0,this.showSSemantic=!1,this.showSStructure=!1},toShowESpelling:function(){this.showESpelling=!0,this.showEGrammar=!1,this.showESemantic=!1,this.showSSemantic=!1,this.showSStructure=!1},toShowEGrammar:function(){this.showESpelling=!1,this.showEGrammar=!0,this.showESemantic=!1,this.showSSemantic=!1,this.showSStructure=!1},toShowESemantic:function(){this.showESpelling=!1,this.showEGrammar=!1,this.showESemantic=!0,this.showSSemantic=!1,this.showSStructure=!1},toShowSSemantic:function(){this.showESpelling=!1,this.showEGrammar=!1,this.showESemantic=!1,this.showSSemantic=!0,this.showSStructure=!1},toShowSStructure:function(){this.showESpelling=!1,this.showEGrammar=!1,this.showESemantic=!1,this.showSSemantic=!1,this.showSStructure=!0},show:function(){console.log(132)},addErrorSpellingTag:function(t,e,s){this.bodyContentArray=s.replace(/(.)(?=[^$])/g,"$1,").split(",");for(var r=t;r<=e;r++)this.spanArray.push(this.bodyContentArray[r]);var n=this.spanArray.join(""),a=this.bodyContentArray.join("");""==this.spanString?this.spanString=a.replace(n,function(t){return'<span class="line-error" @click="show()">'+t+"</span>"}):this.spanString=this.spanString.replace(n,function(t){return'<span class="line-error">'+t+"</span>"}),this.spanArray.splice(0,this.spanArray.length),console.log(this.spanString)},addErrorGrammarTag:function(t,e,s){this.bodyContentArray=s.replace(/(.)(?=[^$])/g,"$1,").split(",");for(var r=t;r<=e;r++)this.spanArray.push(this.bodyContentArray[r]);var n=this.spanArray.join(""),a=this.bodyContentArray.join("");""==this.spanString?this.spanString=a.replace(n,function(t){return'<span class="line-error">'+t+"</span>"}):this.spanString=this.spanString.replace(n,function(t){return'<span class="line-error">'+t+"</span>"}),this.spanArray.splice(0,this.spanArray.length),console.log(this.spanString)},addErrorLexemeTag:function(t,e,s){this.bodyContentArray=s.replace(/(.)(?=[^$])/g,"$1,").split(",");for(var r=t;r<=e;r++)this.spanArray.push(this.bodyContentArray[r]);var n=this.spanArray.join(""),a=this.bodyContentArray.join("");""==this.spanString?this.spanString=a.replace(n,function(t){return'<span class="line-error">'+t+"</span>"}):this.spanString=this.spanString.replace(n,function(t){return'<span class="line-error">'+t+"</span>"}),this.spanArray.splice(0,this.spanArray.length),console.log(this.spanString)},addSuggestLexemeTag:function(t,e,s){this.bodyContentArray=s.replace(/(.)(?=[^$])/g,"$1,").split(",");for(var r=t;r<=e;r++)this.spanArray.push(this.bodyContentArray[r]);var n=this.spanArray.join(""),a=this.bodyContentArray.join("");""==this.spanString?this.spanString=a.replace(n,function(t){return'<span class="line-suggest">'+t+"</span>"}):this.spanString=this.spanString.replace(n,function(t){return'<span class="line-suggest">'+t+"</span>"}),this.spanArray.splice(0,this.spanArray.length),console.log(this.spanString)},addSuggestStructureTag:function(t,e,s){this.bodyContentArray=s.replace(/(.)(?=[^$])/g,"$1,").split(",");for(var r=t;r<=e;r++)this.spanArray.push(this.bodyContentArray[r]);var n=this.spanArray.join(""),a=this.bodyContentArray.join("");""==this.spanString?this.spanString=a.replace(n,function(t){return'<span class="line-suggest">'+t+"</span>"}):this.spanString=this.spanString.replace(n,function(t){return'<span class="line-suggest">'+t+"</span>"}),this.spanArray.splice(0,this.spanArray.length),console.log(this.spanString)},changeEditor:function(){if(0===this.spanString.trim().length?this.htmlContent=this.spanString:this.htmlContent=this.spanString.replace(this.spanString,function(t){return"<p>"+t+"</p>"}),0===this.htmlContent.trim().length&&0===this.bodyContent.trim().length);else{var t=this.editor.getLength();this.editor.deleteText(0,t-1),this.editor.clipboard.dangerouslyPasteHTML(0,this.htmlContent)}}},created:function(){},computed:{editor:function(){return this.$refs.myTextEditor.quill}}},g={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"base"},[s("div",{staticClass:"topper"}),t._v(" "),s("div",{staticClass:"left"},[s("div",{staticClass:"reload"},[s("img",{staticClass:"reload-img",attrs:{src:"/static/img/reload.png",onclick:"reloadPaper()"}}),t._v(" "),s("span",{staticClass:"reload-num"},[t._v(t._s(t.sumNum))])]),t._v(" "),s("div",{staticClass:"clear-float"}),t._v(" "),s("div",{staticClass:"show-all",on:{click:function(e){t.toShowAll()}}},[s("div",{staticClass:"show-all-circle"}),t._v(" "),s("span",{staticClass:"show-all-title"},[t._v("显示全部")])]),t._v(" "),s("div",{staticClass:"clear-float"}),t._v(" "),s("div",{staticClass:"mistakes"},[s("div",{staticClass:"mistakes-circle"}),t._v(" "),s("span",{staticClass:"mistakes-title"},[t._v("错误")]),t._v(" "),s("ul",{staticClass:"mistakes-list"},[s("li",{attrs:{id:"mistakes-spelling"},on:{mouseover:function(e){t.changeMS()},mouseout:function(e){t.returnMS()},click:function(e){t.toShowESpelling()}}},[s("span",{staticClass:"list-title"},[t._v("拼写")]),t._v(" "),t.paperOn?s("div",{attrs:{id:"mistakes-spelling-circle"}},[s("span",{attrs:{id:"mistakes-spelling-num"}},[t._v(t._s(t.errorSpelling))])]):t._e(),t._v(" "),s("div",{staticClass:"clear-float"})]),t._v(" "),s("li",{attrs:{id:"mistakes-grammar"},on:{mouseover:function(e){t.changeMG()},mouseout:function(e){t.returnMG()},click:function(e){t.toShowEGrammar()}}},[s("span",{staticClass:"list-title"},[t._v("语法")]),t._v(" "),t.paperOn?s("div",{attrs:{id:"mistakes-grammar-circle"}},[s("span",{attrs:{id:"mistakes-grammar-num"}},[t._v(t._s(t.errorGrammar))])]):t._e(),t._v(" "),s("div",{staticClass:"clear-float"})]),t._v(" "),s("li",{attrs:{id:"mistakes-lexeme"},on:{mouseover:function(e){t.changeML()},mouseout:function(e){t.returnML()},click:function(e){t.toShowESemantic()}}},[s("span",{staticClass:"list-title"},[t._v("语义")]),t._v(" "),t.paperOn?s("div",{attrs:{id:"mistakes-lexeme-circle"}},[s("span",{attrs:{id:"mistakes-lexeme-num"}},[t._v(t._s(t.errorSemantic))])]):t._e(),t._v(" "),s("div",{staticClass:"clear-float"})])])]),t._v(" "),s("div",{staticClass:"clear-float"}),t._v(" "),s("div",{staticClass:"suggestions"},[s("div",{staticClass:"suggestions-circle"}),t._v(" "),s("span",{staticClass:"suggestions-title"},[t._v("建议")]),t._v(" "),s("ul",{staticClass:"suggestions-list"},[s("li",{attrs:{id:"suggestions-lexeme"},on:{mouseover:function(e){t.changeSL()},mouseout:function(e){t.returnSL()},click:function(e){t.toShowSSemantic()}}},[s("span",{staticClass:"list-title"},[t._v("语义")]),t._v(" "),t.paperOn?s("div",{attrs:{id:"suggestions-lexeme-circle"}},[s("span",{attrs:{id:"suggestions-lexeme-num"}},[t._v(t._s(t.suggestSemantic))])]):t._e(),t._v(" "),s("div",{staticClass:"clear-float"})]),t._v(" "),s("li",{attrs:{id:"suggestions-structure"},on:{mouseover:function(e){t.changeSS()},mouseout:function(e){t.returnSS()},click:function(e){t.toShowSStructure()}}},[s("span",{staticClass:"list-title"},[t._v("句子结构")]),t._v(" "),t.paperOn?s("div",{attrs:{id:"suggestion-structure-circle"}},[s("span",{attrs:{id:"suggestion-structure-num"}},[t._v(t._s(t.suggestStructure))])]):t._e(),t._v(" "),s("div",{staticClass:"clear-float"})])])]),t._v(" "),s("div",{staticClass:"clear-float"}),t._v(" "),t._m(0)]),t._v(" "),s("div",{staticClass:"splender-left"}),t._v(" "),s("div",{staticClass:"middle"},[s("quill-editor",{ref:"myTextEditor",staticClass:"title-paste",attrs:{content:t.titleContent,options:t.titleEditorOption}}),t._v(" "),s("quill-editor",{ref:"myTextEditor",staticClass:"body-paste",attrs:{readonly:"readonly",content:t.bodyContent,options:t.bodyEditorOption},on:{focus:function(e){t.onEditorFocus()},change:function(e){t.onBodyEditorChange(e)}}})],1),t._v(" "),s("div",{staticClass:"splender-right"}),t._v(" "),s("div",{staticClass:"right"},[s("el-collapse",{attrs:{accordion:""}},[t._l(t.errorSpellingArr,function(e,r){return t.showESpelling?s("el-collapse-item",{key:r},[s("template",{slot:"title"},[s("li",{staticClass:"right-spelling"},[t._v(t._s(e.rep))])]),t._v(" "),s("div",{staticClass:"es-second-floor"},[s("span",{domProps:{innerHTML:t._s(e.exp)}})])],2):t._e()}),t._v(" "),t._l(t.errorGrammarArr,function(e,r){return t.showEGrammar?s("el-collapse-item",{key:"A-"+r},[s("template",{slot:"title"},[s("li",{staticClass:"right-grammar"},[t._v(t._s(e.rep))])]),t._v(" "),s("div",{staticClass:"eg-second-floor"},[s("span",{domProps:{innerHTML:t._s(e.exp)}})])],2):t._e()}),t._v(" "),t._l(t.errorSemanticArr,function(e,r){return t.showESemantic?s("el-collapse-item",{key:"B-"+r},[s("template",{slot:"title"},[s("li",{staticClass:"right-semantic"},[t._v(t._s(e.rep))])]),t._v(" "),s("div",{staticClass:"ese-second-floor"},[s("span",{domProps:{innerHTML:t._s(e.exp)}})])],2):t._e()}),t._v(" "),t._l(t.suggestSemanticArr,function(e,r){return t.showSSemantic?s("el-collapse-item",{key:"C-"+r},[s("template",{slot:"title"},[s("li",{staticClass:"suggest-semantic"},[t._v(t._s(e.rep))])]),t._v(" "),s("div",{staticClass:"ss-second-floor"},[s("span",{domProps:{innerHTML:t._s(e.exp)}})])],2):t._e()}),t._v(" "),t._l(t.suggestStructureArr,function(e,r){return t.showSStructure?s("el-collapse-item",{key:"D-"+r},[s("template",{slot:"title"},[s("li",{staticClass:"suggest-structure"},[t._v(t._s(e.rep))])]),t._v(" "),s("div",{staticClass:"sst-second-floor"},[s("span",{domProps:{innerHTML:t._s(e.exp)}})])],2):t._e()})],2)],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"advanced-issues"},[e("img",{staticClass:"advanced-issues-img",attrs:{src:"/static/img/more.png"}}),this._v(" "),e("span",{staticClass:"advanced-issues-title"},[this._v("更多修改建议")])])}]};var m=s("VU/8")(u,g,!1,function(t){s("lhdV")},null,null);e.default=m.exports},lhdV:function(t,e){}});
//# sourceMappingURL=0.44dc9833da3a5c16dd30.js.map